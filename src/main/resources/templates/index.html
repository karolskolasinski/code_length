<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" type="text/css" href="../static/css/style.css"/>
    <th:block th:replace="fragments :: meta" th:remove="tag"/>
    <title>code length app</title>
    <th:block th:replace="fragments :: link-styles" th:remove="tag"/>
</head>
<body class="bg-gradient">
<th:block th:replace="fragments :: header" th:remove="tag"/>

<main>
    <div class="form-inline bg-white align-items-baseline search-font">
        <div class="col-2 text-right align-text-bottom p-0">
            <i class="fas fa-search"></i>
        </div>
        <div class="col-10 p-0">
            <form class="" th:action="@{/get}" th:method="post">
                <input class="w-100 border-0 pl-3 outline-none input-font pb-2 pt-2" th:name="username" id="username"
                       type="text" minlength="1"
                       placeholder="your github username" required title="1 character minimum">
            </form>
        </div>
    </div>

    <div class="container mt-5">
        <div th:each="user, iter : ${top10}">
            <div class="row">
                <div class="col-12 pb-0 world-records-font" th:if="${iter.first}">World records
                    <hr>
                </div>
            </div>

            <div class="col-12">
                <!--1st-->
                <span class="first-place-font" th:text="${'ðŸ¥‡' + user.getUsername()}" th:if="${iter.first}"></span>
                <span class="text-left first-place-font-km"
                      th:text="${'&nbsp;' + user.getLength() + ' '} + km" th:if="${iter.first}"></span>

                <!--2nd-->
                <span class="second-place-font" th:text="${'ðŸ¥ˆ' + user.getUsername()}"
                      th:if="${iter.index == 1}"></span>
                <span class="text-left second-place-font-km"
                      th:text="${'&nbsp;' + user.getLength() + ' '} + km" th:if="${iter.index == 1}"></span>

                <!--3rd-->
                <span class="third-place-font" th:text="${'ðŸ¥‰' + user.getUsername()}" th:if="${iter.index == 2}"></span>
                <span class="text-left third-place-font third-place-font-km"
                      th:text="${'&nbsp;' + user.getLength() + ' '} + km" th:if="${iter.index == 2}"></span>

                <!--other-->
                <span class="other-place-font" th:text="${user.getUsername()}" th:if="${iter.index > 2}"></span>
                <span class="text-left other-place-font"
                      th:text="${'&nbsp;' + user.getLength() + ' '} + km" th:if="${iter.index > 2}"></span>
            </div>

            <div class="col-12 data-font">
                <!--repos-->
                <span class="" th:text="${user.getNumberOfRepos()} + '&nbsp;' + repository + '&nbsp;|'"
                      th:if="${user.getNumberOfRepos() == 1}"></span>
                <span class="" th:text="${user.getNumberOfRepos()} + '&nbsp;' + repositories + '&nbsp;|'"
                      th:if="${user.getNumberOfRepos() > 1}"></span>

                <!--language-->
                <span class="" th:text="${user.getLanguage()} + '&nbsp;|'"
                      th:if="${user.getLanguage().equals('language not recognized')}"></span>
                <span class="" th:text="${user.getLanguage()} + '&nbsp;' + developer + '&nbsp;|'"
                      th:if="${!user.getLanguage().equals('language not recognized')}"></span>

                <!--date-->
                <span class="" th:text="${#temporals.format(user.getLocalDateTime(), 'dd-MM-yyyy HH:mm')}"></span>
            </div>

            <hr>
        </div>
    </div>
</main>

<div class="container">
    <th:block th:replace="fragments :: footer" th:remove="tag"/>
    <th:block th:replace="fragments :: scripts" th:remove="tag"/>
</div>

</body>
</html>
